<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagnóstico de Soluções Organizacionais</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; background: #002D54; color: #333; }
        .card { background: white; padding: 40px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); max-width: 600px; width: 90%; text-align: center; }
        .hidden { display: none; }
        h2 { color: #002D54; margin-bottom: 20px; font-weight: bold; }
        p { line-height: 1.6; font-size: 1.1em; color: #444; }
        .btn-group { display: flex; justify-content: center; gap: 15px; margin-top: 20px; }
        button { padding: 15px 30px; cursor: pointer; border: none; border-radius: 6px; font-weight: bold; font-size: 16px; transition: 0.3s; }
        .btn-next { background: #002D54; color: white; width: 100%; }
        .btn-sim { background: #1D8348; color: white; flex: 1; }
        .btn-nao { background: #A93226; color: white; flex: 1; }
        #result-text { text-align: left; background: #f8f9fa; padding: 25px; border-left: 6px solid #002D54; margin-top: 20px; border-radius: 4px; }
        .progress { font-size: 0.9em; color: #888; margin-bottom: 10px; font-weight: bold; }
        .block-title { color: #002D54; font-size: 0.8em; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; display: block; }
    </style>
</head>
<body>

    <div class="card">
        <div id="step-name">
            <h2>Diagnóstico de Processos</h2>
            <p>Responda às 12 perguntas para identificarmos a solução ideal.</p>
            <button class="btn-next" onclick="startFlow()">Iniciar Diagnóstico</button>
        </div>

        <div id="step-questions" class="hidden">
            <span id="block-label" class="block-title"></span>
            <div id="progress" class="progress"></div>
            <h3 id="question-text" style="min-height: 100px; display: flex; align-items: center; justify-content: center;">...</h3>
            <div class="btn-group">
                <button class="btn-sim" onclick="handleAnswer(true)">Sim</button>
                <button class="btn-nao" onclick="handleAnswer(false)">Não</button>
            </div>
        </div>

        <div id="step-result" class="hidden">
            <h2 id="result-title"></h2>
            <div id="result-text"></div>
            <button class="btn-next" style="margin-top:20px;" onclick="location.reload()">Refazer</button>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let answers = [];

        const questions = [
            { t: "Bloco 1 — Existe fluxo?", q: "Após a solicitação inicial, existem etapas claras e sequenciais até a conclusão?" },
            { t: "Bloco 1 — Existe fluxo?", q: "Na maioria dos casos, essas etapas ocorrem sempre na mesma ordem?" },
            { t: "Bloco 1 — Existe fluxo?", q: "Pessoas diferentes executam esse trabalho seguindo o mesmo padrão?" },
            { t: "Bloco 2 — Papel do sistema", q: "O sistema precisa validar regras ou impedir o avanço do pedido se faltar algo?" },
            { t: "Bloco 2 — Papel do sistema", q: "O sistema deve notificar automaticamente o próximo responsável por cada tarefa?" },
            { t: "Bloco 2 — Papel do sistema", q: "É importante medir o tempo de cada etapa individual, e não apenas o prazo total?" },
            { t: "Bloco 3 — Atendimento ou fluxo", q: "A demanda entra em uma fila comum para que alguém da equipe assuma o atendimento?" },
            { t: "Bloco 3 — Atendimento ou fluxo", q: "O controle principal é identificar com qual atendente o pedido está no momento?" },
            { t: "Bloco 3 — Atendimento ou fluxo", q: "O sucesso depende mais de cumprir o prazo de resposta (SLA) do que de seguir etapas rígidas?" },
            { t: "Maturidade", q: "As regras atuais são claras o suficiente para não gerar dúvidas frequentes na execução?" },
            { t: "Maturidade", q: "As exceções ou casos atípicos representam menos da metade dos atendimentos?" },
            { t: "Maturidade", q: "Hoje, a maior dificuldade não é entender como o processo deveria funcionar na teoria?" }
        ];

        function startFlow() {
            document.getElementById('step-name').classList.add('hidden');
            document.getElementById('step-questions').classList.remove('hidden');
            updateQuestion();
        }

        function updateQuestion() {
            if (currentQuestion < questions.length) {
                document.getElementById('block-label').innerText = questions[currentQuestion].t;
                document.getElementById('progress').innerText = `Pergunta ${currentQuestion + 1} de 12`;
                document.getElementById('question-text').innerText = questions[currentQuestion].q;
            } else { showResult(); }
        }

        function handleAnswer(val) {
            answers.push(val);
            currentQuestion++;
            updateQuestion();
        }

        function showResult() {
            document.getElementById('step-questions').classList.add('hidden');
            document.getElementById('step-result').classList.remove('hidden');
            const title = document.getElementById('result-title');
            const text = document.getElementById('result-text');

            // Agrupamento de respostas por bloco
            const b1 = answers.slice(0, 3).filter(a => a).length; // Fluxo
            const b2 = answers.slice(3, 6).filter(a => a).length; // Papel Sistema (Zeev)
            const b3 = answers.slice(6, 9).filter(a => a).length; // Atendimento (Movidesk)
            const b4 = answers.slice(9, 12).filter(a => a).length; // Maturidade

            // Lógica do gabarito atualizado
            if (b4 <= 1) {
                title.innerText = "Redesenhar antes de automatizar";
                text.innerHTML = "O processo apresenta baixa maturidade. É necessário definir as regras e o funcionamento teórico antes de aplicar qualquer tecnologia.";
            } 
            else if (b1 <= 1) {
                title.innerText = "Melhorar processo";
                text.innerHTML = "Embora existam regras, o fluxo sequencial ainda não está consolidado ou padronizado o suficiente para automação.";
            }
            else if (b2 >= 2 && b4 >= 2) {
                title.innerText = "Zeev BPM";
                text.innerHTML = "Solução indicada para controle de fluxo, orquestração de tarefas entre responsáveis e validação de regras automáticas.";
            }
            else if (b3 >= 2) {
                title.innerText = "Movidesk / Service Desk";
                text.innerHTML = "Solução indicada para gestão de atendimentos, controle de filas e monitoramento de prazos (SLA).";
            }
            else {
                title.innerText = "Forms";
                text.innerHTML = "Indicado para centralizar o recebimento de informações em um único local, sem necessidade de fluxos ou regras complexas de sistema.";
            }
        }
    </script>
</body>
</html>
